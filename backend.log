Watching for file changes with StatReloader
[18/Aug/2025 14:11:23] "GET /api/ HTTP/1.1" 200 3356
[18/Aug/2025 14:13:06] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:13:06] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:13:24] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:13:24] "OPTIONS /api/users/login/ HTTP/1.1" 200 0
Unauthorized: /api/users/login/
[18/Aug/2025 14:13:25] "POST /api/users/login/ HTTP/1.1" 401 31
[18/Aug/2025 14:13:49] "GET /api/users/csrf/ HTTP/1.1" 200 112
Unauthorized: /api/users/login/
[18/Aug/2025 14:13:51] "POST /api/users/login/ HTTP/1.1" 401 31
Performing system checks...

System check identified no issues (0 silenced).
August 18, 2025 - 14:11:21
Django version 5.2.4, using settings 'kebede_pos.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: sLQyibgQfy...
[DEBUG] Request cookies: {}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: sLQyibgQfy...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 7nu79pL37q...
[DEBUG] Request cookies: {}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 7nu79pL37q...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 2IJYH1AuOX...
[DEBUG] Request cookies: {'csrftoken': '7nu79pL37qAhjFBP4xWHALX5bR2upNHP3Wb8UfyhepWwVvqerl0swaz8cUy2pjK5', 'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=7nu79pL37qAhjFBP4xWHALX5bR2upNHP3Wb8UfyhepWwVvqerl0swaz8cUy2pjK5; sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 2IJYH1AuOX...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': '2IJYH1AuOXV990ic9k4cJ8hRRrLgrw13YhqZsRnIVWhoLQ7Bw88XFxTUSuhOr24j'}
[DEBUG] Request headers: {'Content-Length': '51', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'X-Csrftoken': '2IJYH1AuOXV990ic9k4cJ8hRRrLgrw13YhqZsRnIVWhoLQ7Bw88XFxTUSuhOr24j', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=2IJYH1AuOXV990ic9k4cJ8hRRrLgrw13YhqZsRnIVWhoLQ7Bw88XFxTUSuhOr24j'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: Y76ZdTC8eu...
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': '2IJYH1AuOXV990ic9k4cJ8hRRrLgrw13YhqZsRnIVWhoLQ7Bw88XFxTUSuhOr24j'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=2IJYH1AuOXV990ic9k4cJ8hRRrLgrw13YhqZsRnIVWhoLQ7Bw88XFxTUSuhOr24j'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: Y76ZdTC8eu...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': 'Y76ZdTC8euda97lKazbqFnqE5wbEwpZSUGN0YJpmltzpLXa9xnfbBM2H6zHcwV28'}
[DEBUG] Request headers: {'Content-Length': '52', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'X-Csrftoken': 'Y76ZdTC8euda97lKazbqFnqE5wbEwpZSUGN0YJpmltzpLXa9xnfbBM2H6zHcwV28', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=Y76ZdTC8euda97lKazbqFnqE5wbEwpZSUGN0YJpmltzpLXa9xnfbBM2H6zHcwV28'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 66M4YDE7g2...
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': 'Y76ZdTC8euda97lKazbqFnqE5wbEwpZSUGN0YJpmltzpLXa9xnfbBM2H6zHcwV28'}
[18/Aug/2025 14:14:08] "GET /api/users/csrf/ HTTP/1.1" 200 112
Unauthorized: /api/users/login/
[18/Aug/2025 14:14:10] "POST /api/users/login/ HTTP/1.1" 401 31
[18/Aug/2025 14:14:26] "GET /api/users/csrf/ HTTP/1.1" 200 112
Unauthorized: /api/users/login/
[18/Aug/2025 14:14:27] "POST /api/users/login/ HTTP/1.1" 401 31
Forbidden: /api/users/me/
[18/Aug/2025 14:14:48] "GET /api/users/me/ HTTP/1.1" 403 58
[18/Aug/2025 14:14:48] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/users/me/
[18/Aug/2025 14:14:48] "GET /api/users/me/ HTTP/1.1" 403 58
[18/Aug/2025 14:14:48] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/users/me/
[18/Aug/2025 14:14:48] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:14:48] "GET /api/users/me/ HTTP/1.1" 403 58
[18/Aug/2025 14:14:48] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:14:48] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:14:48] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:14:48] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:15:18] "GET /api/users/me/ HTTP/1.1" 403 58
[18/Aug/2025 14:15:18] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/users/me/
[18/Aug/2025 14:15:18] "GET /api/users/me/ HTTP/1.1" 403 58
[18/Aug/2025 14:15:18] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/users/me/
[18/Aug/2025 14:15:18] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:15:18] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/users/me/
[18/Aug/2025 14:15:18] "GET /api/orders/order-list/ HTTP/1.1" 200 2
[18/Aug/2025 14:15:18] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:15:18] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:15:18] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:17:13] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:17:13] "GET /api/orders/order-list/ HTTP/1.1" 200 2
[18/Aug/2025 14:17:13] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:17:13] "GET /api/orders/order-list/ HTTP/1.1" 200 2
[18/Aug/2025 14:17:13] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/users/me/
[18/Aug/2025 14:17:13] "GET /api/users/me/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:17:14] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
[18/Aug/2025 14:17:14] "GET /api/orders/order-list/ HTTP/1.1" 200 2
[18/Aug/2025 14:17:14] "GET /api/orders/order-list/ HTTP/1.1" 200 2
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
Forbidden: /api/branches/tables/
[18/Aug/2025 14:17:14] "GET /api/branches/tables/ HTTP/1.1" 403 58
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=Y76ZdTC8euda97lKazbqFnqE5wbEwpZSUGN0YJpmltzpLXa9xnfbBM2H6zHcwV28'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 66M4YDE7g2...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': '66M4YDE7g286iuKQPTJxKoXegD8zZtrh2Ft5Jtrln1ulUkzfcHNiGNzhhGE7ZZux'}
[DEBUG] Request headers: {'Content-Length': '51', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'X-Csrftoken': '66M4YDE7g286iuKQPTJxKoXegD8zZtrh2Ft5Jtrln1ulUkzfcHNiGNzhhGE7ZZux', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=66M4YDE7g286iuKQPTJxKoXegD8zZtrh2Ft5Jtrln1ulUkzfcHNiGNzhhGE7ZZux'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: mVLuBzbeAk...
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': '66M4YDE7g286iuKQPTJxKoXegD8zZtrh2Ft5Jtrln1ulUkzfcHNiGNzhhGE7ZZux'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=66M4YDE7g286iuKQPTJxKoXegD8zZtrh2Ft5Jtrln1ulUkzfcHNiGNzhhGE7ZZux'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: mVLuBzbeAk...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': '19kovoie0m5hh1jwqzmzhgzxu8v4nah7', 'csrftoken': 'mVLuBzbeAkIrUI2177tXgBqPZtTEtTPRiusvmpYsHj4GwyRquVxIc02S0wpctpS7'}
[DEBUG] Request headers: {'Content-Length': '54', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Linux"', 'X-Csrftoken': 'mVLuBzbeAkIrUI2177tXgBqPZtTEtTPRiusvmpYsHj4GwyRquVxIc02S0wpctpS7', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=19kovoie0m5hh1jwqzmzhgzxu8v4nah7; csrftoken=mVLuBzbeAkIrUI2177tXgBqPZtTEtTPRiusvmpYsHj4GwyRquVxIc02S0wpctpS7'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] OrderListView.get_queryset - User: Anonymous, Role: None, ID: None
[DEBUG] OrderListView.get_queryset - User not authenticated, returning empty queryset
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: ppiVqVkL5n...
[DEBUG] Request cookies: {}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[18/Aug/2025 14:17:25] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:17:25] "OPTIONS /api/users/logout/ HTTP/1.1" 200 0
[18/Aug/2025 14:17:25] "POST /api/users/logout/ HTTP/1.1" 200 86
[18/Aug/2025 14:17:29] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:17:29] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:17:46] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:17:46] "OPTIONS /api/users/login/ HTTP/1.1" 200 0
Unauthorized: /api/users/login/
[18/Aug/2025 14:17:48] "POST /api/users/login/ HTTP/1.1" 401 31
[18/Aug/2025 14:17:57] "GET /api/users/csrf/ HTTP/1.1" 200 112
Unauthorized: /api/users/login/
[18/Aug/2025 14:18:00] "POST /api/users/login/ HTTP/1.1" 401 31
Forbidden: /api/orders/order-list/
[18/Aug/2025 14:18:10] "POST /api/orders/order-list/ HTTP/1.1" 403 35
[DEBUG] CSRF cookie set in response: ppiVqVkL5n...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
session_logout called, method: POST
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: gi8TycdqHK...
[DEBUG] Request cookies: {'csrftoken': 'ppiVqVkL5n579j734vdeODAxXJWJLiom9nhfy7RlDVaFq1J0KejpLgHT5E3RwjGM'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=ppiVqVkL5n579j734vdeODAxXJWJLiom9nhfy7RlDVaFq1J0KejpLgHT5E3RwjGM'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: gi8TycdqHK...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: zk4QTDEp7J...
[DEBUG] Request cookies: {'csrftoken': 'ppiVqVkL5n579j734vdeODAxXJWJLiom9nhfy7RlDVaFq1J0KejpLgHT5E3RwjGM'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=ppiVqVkL5n579j734vdeODAxXJWJLiom9nhfy7RlDVaFq1J0KejpLgHT5E3RwjGM'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: zk4QTDEp7J...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: QziyQ2CBwL...
[DEBUG] Request cookies: {'csrftoken': 'zk4QTDEp7J2njx0flwvDIe2RFpzJaHaPpOPo5FDIgBujgTuqQ1p7fnp3Gam61OiY', 'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=zk4QTDEp7J2njx0flwvDIe2RFpzJaHaPpOPo5FDIgBujgTuqQ1p7fnp3Gam61OiY; sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: QziyQ2CBwL...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf', 'csrftoken': 'QziyQ2CBwL4M5OTfX29ZTQGa3v8z8fHLG33624BUFDwI2anqsx3tqZ3m4gVWZmPU'}
[DEBUG] Request headers: {'Content-Length': '52', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'X-Csrftoken': 'QziyQ2CBwL4M5OTfX29ZTQGa3v8z8fHLG33624BUFDwI2anqsx3tqZ3m4gVWZmPU', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf; csrftoken=QziyQ2CBwL4M5OTfX29ZTQGa3v8z8fHLG33624BUFDwI2anqsx3tqZ3m4gVWZmPU'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: V0rM9xjPm4...
[DEBUG] Request cookies: {'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf', 'csrftoken': 'QziyQ2CBwL4M5OTfX29ZTQGa3v8z8fHLG33624BUFDwI2anqsx3tqZ3m4gVWZmPU'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf; csrftoken=QziyQ2CBwL4M5OTfX29ZTQGa3v8z8fHLG33624BUFDwI2anqsx3tqZ3m4gVWZmPU'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: V0rM9xjPm4...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf', 'csrftoken': 'V0rM9xjPm4eP5V1BkeAKaKLe9F48BD6WLucklzi8vWGL2hvMPJueHT8qaqRvsKe5'}
[DEBUG] Request headers: {'Content-Length': '45', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'X-Csrftoken': 'V0rM9xjPm4eP5V1BkeAKaKLe9F48BD6WLucklzi8vWGL2hvMPJueHT8qaqRvsKe5', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf; csrftoken=V0rM9xjPm4eP5V1BkeAKaKLe9F48BD6WLucklzi8vWGL2hvMPJueHT8qaqRvsKe5'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: dib5CmiGwT...
[18/Aug/2025 14:18:58] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:18:59] "POST /api/users/login/ HTTP/1.1" 200 226
[18/Aug/2025 14:19:00] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:19:00] "GET /api/users/me/ HTTP/1.1" 200 129
[18/Aug/2025 14:19:00] "OPTIONS /api/users/csrf/ HTTP/1.1" 200 0
[18/Aug/2025 14:19:01] "OPTIONS /api/users/csrf/ HTTP/1.1" 200 0
[18/Aug/2025 14:19:01] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:19:01] "GET /api/users/csrf/ HTTP/1.1" 200 112
[DEBUG] Request cookies: {'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf', 'csrftoken': 'V0rM9xjPm4eP5V1BkeAKaKLe9F48BD6WLucklzi8vWGL2hvMPJueHT8qaqRvsKe5'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf; csrftoken=V0rM9xjPm4eP5V1BkeAKaKLe9F48BD6WLucklzi8vWGL2hvMPJueHT8qaqRvsKe5'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: dib5CmiGwT...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': 'ujqu3374q4hxoiiq3ygt24x5opqbrmhf', 'csrftoken': 'dib5CmiGwTxYEpwVq6Ng5PEdrblKS8g73MWDOohZFLZUBL06VBHKCY1psW87Jfog'}
[DEBUG] Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'X-Csrftoken': 'dib5CmiGwTxYEpwVq6Ng5PEdrblKS8g73MWDOohZFLZUBL06VBHKCY1psW87Jfog', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=ujqu3374q4hxoiiq3ygt24x5opqbrmhf; csrftoken=dib5CmiGwTxYEpwVq6Ng5PEdrblKS8g73MWDOohZFLZUBL06VBHKCY1psW87Jfog'}
Authentication result: waiter_user1 (waiter)
[DEBUG] User authenticated: waiter_user1
[DEBUG] Session key after login: n9f1tpfmmw1hfxlhre41ye98ubi4votc
[DEBUG] User is authenticated: True
[DEBUG] Origin header: http://localhost:3000
[DEBUG] Session cookie set without domain restriction
[DEBUG] Session key header set: n9f1tpfmmw1hfxlhre41ye98ubi4votc
[DEBUG] Response cookies: {'sessionid': <Morsel: sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; expires=Tue, 19 Aug 2025 14:18:59 GMT; Max-Age=86400; Path=/; SameSite=Lax>}
[DEBUG] Response headers: {'Content-Type': 'text/html; charset=utf-8', 'X-Session-Key': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: m0oCv62WGO...
[DEBUG] Request cookies: {'csrftoken': 'dib5CmiGwTxYEpwVq6Ng5PEdrblKS8g73MWDOohZFLZUBL06VBHKCY1psW87Jfog', 'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=dib5CmiGwTxYEpwVq6Ng5PEdrblKS8g73MWDOohZFLZUBL06VBHKCY1psW87Jfog; sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: m0oCv62WGO...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 0plzljDvMp...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': 'm0oCv62WGOX076gi7H9UgK1Qex69QWxTCM4RkbBvfOeFQaROkuuccPrQ2Td99pa3'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=m0oCv62WGOX076gi7H9UgK1Qex69QWxTCM4RkbBvfOeFQaROkuuccPrQ2Td99pa3'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 0plzljDvMp...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: BKRDEMNVTX...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': 'm0oCv62WGOX076gi7H9UgK1Qex69QWxTCM4RkbBvfOeFQaROkuuccPrQ2Td99pa3'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=m0oCv62WGOX076gi7H9UgK1Qex69QWxTCM4RkbBvfOeFQaROkuuccPrQ2Td99pa3'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: BKRDEMNVTX...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: zGiINfIvT5...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': 'BKRDEMNVTX1IUoOPdp83XTgU7OUE60UnRwxStRmusXinDsplqctlTYGUVa1Eptxx'}
[18/Aug/2025 14:19:02] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:19:02] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:19:04] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:04] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:05] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:05] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:06] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:07] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:09] "GET /api/menu/menuitems/ HTTP/1.1" 200 999
[18/Aug/2025 14:19:09] "GET /api/menu/menuitems/ HTTP/1.1" 200 999
[18/Aug/2025 14:19:09] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:09] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:10] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:11] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:11] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:11] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:12] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:19:12] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:19:13] "GET /api/orders/check-table-availability/?table_id=1 HTTP/1.1" 200 235
[18/Aug/2025 14:19:13] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:19:13] "OPTIONS /api/orders/order-list/ HTTP/1.1" 200 0
Internal Server Error: /api/orders/order-list/
Traceback (most recent call last):
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/generics.py", line 246, in post
    return self.create(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
  File "/home/alikibret/Project/kebede-butchery-ms/backend/orders/views.py", line 237, in perform_create
    raise ValidationError(
django.core.exceptions.ValidationError: ['Table 1 already has an active order (#20250813-03). Please complete or cancel the existing order before creating a new one.']
[18/Aug/2025 14:19:14] "POST /api/orders/order-list/ HTTP/1.1" 500 131244
/home/alikibret/Project/kebede-butchery-ms/backend/branches/models.py changed, reloading.
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=BKRDEMNVTX1IUoOPdp83XTgU7OUE60UnRwxStRmusXinDsplqctlTYGUVa1Eptxx'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: zGiINfIvT5...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 9CYMiUcRIy...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': 'zGiINfIvT5yhvQDFelzAins8Lpdbqv7sPsYXCkh4s5PWeUebr8USesS8zLkbJYKC'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=zGiINfIvT5yhvQDFelzAins8Lpdbqv7sPsYXCkh4s5PWeUebr8USesS8zLkbJYKC'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 9CYMiUcRIy...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] MenuItemViewSet - User: waiter_user1, Role: waiter
[DEBUG] MenuItemViewSet - Initial queryset count: 3
[DEBUG] After availability filter: 3
[DEBUG] Final queryset count: 3
[DEBUG] Available menu items: [('ክትፎ', 'food', True), ('shekila', 'food', True), ('Pepsi', 'beverage', True)]
[DEBUG] MenuItemViewSet - User: waiter_user1, Role: waiter
[DEBUG] MenuItemViewSet - Initial queryset count: 3
[DEBUG] After availability filter: 3
[DEBUG] Final queryset count: 3
[DEBUG] Available menu items: [('ክትፎ', 'food', True), ('shekila', 'food', True), ('Pepsi', 'beverage', True)]
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 4FwMFwBhHU...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': '9CYMiUcRIy4qFEn80zjl4u24jq0x8OXapoE17ZLqhyl5oIYEdmED0zs47M7xrhAk'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=9CYMiUcRIy4qFEn80zjl4u24jq0x8OXapoE17ZLqhyl5oIYEdmED0zs47M7xrhAk'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 4FwMFwBhHU...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
Watching for file changes with StatReloader
/home/alikibret/Project/kebede-butchery-ms/backend/orders/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).
August 18, 2025 - 14:21:57
Django version 5.2.4, using settings 'kebede_pos.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
/home/alikibret/Project/kebede-butchery-ms/backend/orders/serializers.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).
August 18, 2025 - 14:22:11
Django version 5.2.4, using settings 'kebede_pos.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
[18/Aug/2025 14:23:13] "GET /api/orders/check-table-availability/?table_id=1 HTTP/1.1" 200 235
[18/Aug/2025 14:23:13] "GET /api/users/csrf/ HTTP/1.1" 200 112
Internal Server Error: /api/orders/order-list/
Traceback (most recent call last):
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/generics.py", line 246, in post
    return self.create(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
  File "/home/alikibret/Project/kebede-butchery-ms/backend/orders/views.py", line 237, in perform_create
    raise ValidationError(
django.core.exceptions.ValidationError: ['Table 1 already has an active order (#20250813-03). Please complete or cancel the existing order before creating a new one.']
[18/Aug/2025 14:23:14] "POST /api/orders/order-list/ HTTP/1.1" 500 131244
/home/alikibret/Project/kebede-butchery-ms/backend/orders/serializers.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).
August 18, 2025 - 14:22:36
Django version 5.2.4, using settings 'kebede_pos.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: vgyN0HcCEf...
[DEBUG] Request cookies: {'sessionid': 'n9f1tpfmmw1hfxlhre41ye98ubi4votc', 'csrftoken': '4FwMFwBhHUlVGVW3dc4jYwy9fJdMUksjkrc1uBaQgUCApZxzqZpBUBY935kMdN5t'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=n9f1tpfmmw1hfxlhre41ye98ubi4votc; csrftoken=4FwMFwBhHUlVGVW3dc4jYwy9fJdMUksjkrc1uBaQgUCApZxzqZpBUBY935kMdN5t'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: vgyN0HcCEf...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
Watching for file changes with StatReloader
Unauthorized: /api/users/login/
[18/Aug/2025 14:24:25] "POST /api/users/login/ HTTP/1.1" 401 31
[18/Aug/2025 14:26:21] "POST /api/users/login/ HTTP/1.1" 200 226
Internal Server Error: /api/orders/order-list/
Traceback (most recent call last):
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/generics.py", line 246, in post
    return self.create(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
  File "/home/alikibret/Project/kebede-butchery-ms/backend/orders/views.py", line 223, in perform_create
    raise ValidationError(f"Cannot create order: {reason}")
django.core.exceptions.ValidationError: ['Cannot create order: Table has active order #20250815-02']
[18/Aug/2025 14:26:51] "POST /api/orders/order-list/ HTTP/1.1" 500 127683
Forbidden: /api/orders/check-table-availability/
[18/Aug/2025 14:30:46] "GET /api/orders/check-table-availability/?table_id=1 HTTP/1.1" 403 58
[18/Aug/2025 14:30:59] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:30:59] "POST /api/users/logout/ HTTP/1.1" 200 86
[18/Aug/2025 14:31:04] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:04] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:22] "GET /api/users/csrf/ HTTP/1.1" 200 112
Performing system checks...

System check identified no issues (0 silenced).
August 18, 2025 - 14:23:42
Django version 5.2.4, using settings 'kebede_pos.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {}
[DEBUG] Request headers: {'Content-Length': '52', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'User-Agent': 'curl/7.81.0', 'Accept': '*/*'}
Authentication result: None
[DEBUG] Authentication failed for user: waiter_user1
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {}
[DEBUG] Request headers: {'Content-Length': '52', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'User-Agent': 'curl/7.81.0', 'Accept': '*/*'}
Authentication result: waiter_user1 (waiter)
[DEBUG] User authenticated: waiter_user1
[DEBUG] Session key after login: d1261ba22bi61ouxfwbk4iip2qc99bto
[DEBUG] User is authenticated: True
[DEBUG] Origin header: 
[DEBUG] Session cookie set without domain restriction
[DEBUG] Session key header set: d1261ba22bi61ouxfwbk4iip2qc99bto
[DEBUG] CSRF cookie set without domain restriction
[DEBUG] Response cookies: {'sessionid': <Morsel: sessionid=d1261ba22bi61ouxfwbk4iip2qc99bto; expires=Tue, 19 Aug 2025 14:26:21 GMT; Max-Age=86400; Path=/; SameSite=Lax>, 'csrftoken': <Morsel: csrftoken=zTBSFxZXBefz0urUzDUV17aJMn6HK3J1; expires=Mon, 17 Aug 2026 14:26:21 GMT; Max-Age=31449600; Path=/; SameSite=Lax>}
[DEBUG] Response headers: {'Content-Type': 'text/html; charset=utf-8', 'X-Session-Key': 'd1261ba22bi61ouxfwbk4iip2qc99bto'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: f8yHiBb1nf...
[DEBUG] Request cookies: {'csrftoken': 'vgyN0HcCEfmn14WRYqJ0zNHrmyQJiLogL2e2PMLbdfD2K8xnbd4ivS7raUXJBe1q'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=vgyN0HcCEfmn14WRYqJ0zNHrmyQJiLogL2e2PMLbdfD2K8xnbd4ivS7raUXJBe1q'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: f8yHiBb1nf...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
session_logout called, method: POST
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: dQTgt3Xfy0...
[DEBUG] Request cookies: {'csrftoken': 'f8yHiBb1nfoZ6sOwAHsWsN1RT7UWj9jsxQKuTrlynPuJssaZTSFotAMDkVWFq5GX'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=f8yHiBb1nfoZ6sOwAHsWsN1RT7UWj9jsxQKuTrlynPuJssaZTSFotAMDkVWFq5GX'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: dQTgt3Xfy0...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: KwWZgrcVD7...
[DEBUG] Request cookies: {'csrftoken': 'f8yHiBb1nfoZ6sOwAHsWsN1RT7UWj9jsxQKuTrlynPuJssaZTSFotAMDkVWFq5GX'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=f8yHiBb1nfoZ6sOwAHsWsN1RT7UWj9jsxQKuTrlynPuJssaZTSFotAMDkVWFq5GX'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: KwWZgrcVD7...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 58S9ZVJQre...
[DEBUG] Request cookies: {'csrftoken': 'KwWZgrcVD7cyZy5s4GBJylsoPe8zJea58exQRBrhd1c6IP4tKuGMlaMoXGh7NwgD', 'sessionid': 'enjen2isxru3ptlzx5ryjub6zemtjawy'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=KwWZgrcVD7cyZy5s4GBJylsoPe8zJea58exQRBrhd1c6IP4tKuGMlaMoXGh7NwgD; sessionid=enjen2isxru3ptlzx5ryjub6zemtjawy'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 58S9ZVJQre...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Login attempt for user: waiter_user1
[DEBUG] Request cookies: {'sessionid': 'enjen2isxru3ptlzx5ryjub6zemtjawy', 'csrftoken': '58S9ZVJQreGJ4g2QjvE884WNawVs0FtutQt0A5Yc18GhNx1RZjJbVTgNiY404Xz2'}
[18/Aug/2025 14:31:23] "POST /api/users/login/ HTTP/1.1" 200 226
[18/Aug/2025 14:31:24] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:24] "GET /api/users/me/ HTTP/1.1" 200 129
[18/Aug/2025 14:31:25] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:25] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:26] "GET /api/users/csrf/ HTTP/1.1" 200 112
[DEBUG] Request headers: {'Content-Length': '52', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'X-Csrftoken': '58S9ZVJQreGJ4g2QjvE884WNawVs0FtutQt0A5Yc18GhNx1RZjJbVTgNiY404Xz2', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=enjen2isxru3ptlzx5ryjub6zemtjawy; csrftoken=58S9ZVJQreGJ4g2QjvE884WNawVs0FtutQt0A5Yc18GhNx1RZjJbVTgNiY404Xz2'}
Authentication result: waiter_user1 (waiter)
[DEBUG] User authenticated: waiter_user1
[DEBUG] Session key after login: amb7uvyh033se0z93hrs24gzh1pkvyey
[DEBUG] User is authenticated: True
[DEBUG] Origin header: http://localhost:3000
[DEBUG] Session cookie set without domain restriction
[DEBUG] Session key header set: amb7uvyh033se0z93hrs24gzh1pkvyey
[DEBUG] Response cookies: {'sessionid': <Morsel: sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; expires=Tue, 19 Aug 2025 14:31:23 GMT; Max-Age=86400; Path=/; SameSite=Lax>}
[DEBUG] Response headers: {'Content-Type': 'text/html; charset=utf-8', 'X-Session-Key': 'amb7uvyh033se0z93hrs24gzh1pkvyey'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: KpisGqtPEz...
[DEBUG] Request cookies: {'csrftoken': '58S9ZVJQreGJ4g2QjvE884WNawVs0FtutQt0A5Yc18GhNx1RZjJbVTgNiY404Xz2', 'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=58S9ZVJQreGJ4g2QjvE884WNawVs0FtutQt0A5Yc18GhNx1RZjJbVTgNiY404Xz2; sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: KpisGqtPEz...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: pQHlXfuyoF...
[DEBUG] Request cookies: {'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey', 'csrftoken': 'KpisGqtPEzqVbpjISlyDlxo2GlhnlqNIXoe1ijflvFwCv9B9GUZZG8FV5hO9FNoh'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; csrftoken=KpisGqtPEzqVbpjISlyDlxo2GlhnlqNIXoe1ijflvFwCv9B9GUZZG8FV5hO9FNoh'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: pQHlXfuyoF...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: NMACb3qycJ...
[DEBUG] Request cookies: {'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey', 'csrftoken': 'KpisGqtPEzqVbpjISlyDlxo2GlhnlqNIXoe1ijflvFwCv9B9GUZZG8FV5hO9FNoh'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; csrftoken=KpisGqtPEzqVbpjISlyDlxo2GlhnlqNIXoe1ijflvFwCv9B9GUZZG8FV5hO9FNoh'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: NMACb3qycJ...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: u1LitI9Rfy...
[DEBUG] Request cookies: {'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey', 'csrftoken': 'NMACb3qycJ0CmDJbJeIeBi897CQ8svTQ0LwbNWc43P6jGn1CxN9AWTp2wynUMSup'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; csrftoken=NMACb3qycJ0CmDJbJeIeBi897CQ8svTQ0LwbNWc43P6jGn1CxN9AWTp2wynUMSup'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: u1LitI9Rfy...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: O2F5nJ8vWk...
[DEBUG] Request cookies: {'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey', 'csrftoken': 'u1LitI9RfyFYPAinwEfCJiIYoGDsTCloH0HR5BVn6ELF9kAOkdGY4TZRNCaedZWX'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Accept': '*/*', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; csrftoken=u1LitI9RfyFYPAinwEfCJiIYoGDsTCloH0HR5BVn6ELF9kAOkdGY4TZRNCaedZWX'}
[DEBUG] Origin header: http://localhost:3000
[18/Aug/2025 14:31:26] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:28] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:28] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:29] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:29] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:30] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:30] "GET /api/menu/menuitems/ HTTP/1.1" 200 999
[18/Aug/2025 14:31:31] "GET /api/menu/menuitems/ HTTP/1.1" 200 999
[18/Aug/2025 14:31:32] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:33] "GET /api/orders/check-table-availability/?table_id=1 HTTP/1.1" 200 235
[18/Aug/2025 14:31:33] "GET /api/users/csrf/ HTTP/1.1" 200 112
[18/Aug/2025 14:31:34] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:34] "GET /api/branches/tables/ HTTP/1.1" 200 912
Internal Server Error: /api/orders/order-list/
Traceback (most recent call last):
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/generics.py", line 246, in post
    return self.create(request, *args, **kwargs)
  File "/home/alikibret/Project/kebede-butchery-ms/.venv/lib/python3.10/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
  File "/home/alikibret/Project/kebede-butchery-ms/backend/orders/views.py", line 237, in perform_create
    raise ValidationError(
django.core.exceptions.ValidationError: ['Table 1 already has an active order (#20250813-03). Please complete or cancel the existing order before creating a new one.']
[18/Aug/2025 14:31:35] "POST /api/orders/order-list/ HTTP/1.1" 500 131244
[18/Aug/2025 14:31:36] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:36] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:38] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:38] "GET /api/branches/tables/ HTTP/1.1" 200 912
[18/Aug/2025 14:31:40] "GET /api/orders/order-list/ HTTP/1.1" 200 18888
[18/Aug/2025 14:31:40] "GET /api/branches/tables/ HTTP/1.1" 200 912
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: O2F5nJ8vWk...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] MenuItemViewSet - User: waiter_user1, Role: waiter
[DEBUG] MenuItemViewSet - Initial queryset count: 3
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
[DEBUG] After availability filter: 3
[DEBUG] Final queryset count: 3
DEBUG: Final query count: 30
[DEBUG] Available menu items: [('ክትፎ', 'food', True), ('shekila', 'food', True), ('Pepsi', 'beverage', True)]
[DEBUG] MenuItemViewSet - User: waiter_user1, Role: waiter
[DEBUG] MenuItemViewSet - Initial queryset count: 3
[DEBUG] After availability filter: 3
[DEBUG] Final queryset count: 3
[DEBUG] Available menu items: [('ክትፎ', 'food', True), ('shekila', 'food', True), ('Pepsi', 'beverage', True)]
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] CSRF endpoint called
[DEBUG] CSRF token generated: 1iZRm9szgf...
[DEBUG] Request cookies: {'sessionid': 'amb7uvyh033se0z93hrs24gzh1pkvyey', 'csrftoken': 'O2F5nJ8vWkfWD4juUTUxyAtNvIvly9HC11BEZCU1NqlDXOBVIslTTbKGUE27Swib'}
[DEBUG] Request headers: {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Android"', 'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"', 'Sec-Ch-Ua-Mobile': '?1', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'sessionid=amb7uvyh033se0z93hrs24gzh1pkvyey; csrftoken=O2F5nJ8vWkfWD4juUTUxyAtNvIvly9HC11BEZCU1NqlDXOBVIslTTbKGUE27Swib'}
[DEBUG] Origin header: http://localhost:3000
[DEBUG] CSRF cookie explicitly set without domain restriction
[DEBUG] CSRF cookie set in response: 1iZRm9szgf...
[DEBUG] Response headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': 'http://localhost:3000'}
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] OrderListView.get_queryset - User: waiter_user1, Role: waiter, ID: 1
[DEBUG] Waiter waiter_user1 - showing only own orders (created_by=1)
DEBUG: User role: waiter
DEBUG: Cashier status filter: None
DEBUG: Date filter: None
DEBUG: Final query count: 30
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
[DEBUG] Filtering tables for waiter: waiter_user1 in branch: Bole Branch
